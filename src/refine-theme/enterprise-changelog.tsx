import React from "react";
import clsx from "clsx";

const changelogData = [
    {
        title: "3.9.1 (2025/08/15)",
        sections: [
            {
                items: [
                    "- [âœ¨] æ›´æ–°åŠ¨æ€è·¯ç”±é¡µé¢ `[id].vue` çš„å®ç° (2025/08/17 16:29:36)",
                    "- [ğŸ›] ä¿®å¤äº†æ–°å¢è¯„è®ºåŠŸèƒ½çš„ç›¸å…³ Bug (2025/08/17 13:33:18)",
                    "- [ğŸ›] ä¿®å¤äº† i18n å›½é™…åŒ–é…ç½®çš„ç›¸å…³é—®é¢˜ (2025/08/17 12:10:39)",
                    "- [âœ¨] å¢å¼ºäº† i18n å›½é™…åŒ–æ”¯æŒ (2025/08/17 01:36:25)",
                    "- [ğŸ”§] æ–°å¢äº† SQL æ•°æ®åº“è„šæœ¬ (2025/08/16 17:49:01)",
                    "- [ğŸš€] ä¼˜åŒ–äº† uni-app ç«¯çš„å›¾ç‰‡ä¸Šä¼ åŠŸèƒ½ (2025/08/16 00:50:55)",
                ],
            },
        ],
    },
    {
        title: "3.8.6 (2025/08/13)",
        sections: [
            {
                items: ["- [ğŸ›] ä¿®å¤äº† uni-app API çš„ä¸€ä¸ª Bug (2025/08/13 23:17:47)"],
            },
        ],
    },
    {
        title: "3.8.5 (2025/08/12)",
        sections: [
            {
                items: [
                    "- [ğŸ›] ä¿®å¤äº†æ”¯ä»˜æ¨¡å—çš„ä¸€ä¸ªä¸¥é‡ Bug (2025/08/13 01:57:09)",
                    "- [ğŸ›] ä¿®å¤äº† Redis",
                    "- [ğŸ›] ä¿®å¤äº†ç¼–è¾‘å™¨å†…å®¹è¿‡é•¿æ—¶æ— æ³•æ»šåŠ¨è‡³æœ€åº•éƒ¨çš„é—®é¢˜",
                ],
            },
        ],
    },
    {
        title: "3.8.4 (2025/08/11)",
        sections: [
            {
                title: "æ–°å¢åŠŸèƒ½",
                items: ["- ã€æ–°å¢ã€‘å®ç°äº†æ‰¾å›å¯†ç åŠŸèƒ½", "- ã€æ–°å¢ã€‘æ”¯æŒé»‘å¤œæ¨¡å¼"],
            },
            {
                title: "Git æäº¤è¯¦æƒ…",
                items: [
                    "- [ğŸš€] æ›´æ–°äº†æ•°æ®åº“ SQL è„šæœ¬ (2025/08/11 14:35:02)",
                    "- [ğŸ›] ä¿®å¤äº†æ”¯ä»˜å®æ”¯ä»˜æ¥å£çš„ Bug (2025/08/11 14:32:09)",
                    "- [âœ¨] æ–°å¢äº†èµ„æºæ”¶è—ï¼ˆç‚¹èµï¼‰åŠŸèƒ½ (2025/08/11 01:05:12)",
                    "- [ğŸ›] ä¿®å¤äº†æ”¯ä»˜åŠŸèƒ½çš„ä¸€ä¸ªé€»è¾‘é—®é¢˜ (2025/08/10 22:05:56)",
                    "- [ğŸ›] ä¿®å¤äº†æ”¯ä»˜æ¨¡å—çš„å…¼å®¹æ€§é—®é¢˜ (2025/08/10 04:07:33)",
                ],
            },
        ],
    },
    {
        title: "3.8.2 (2025/08/06)",
        sections: [
            {
                title: "Git æäº¤è¯¦æƒ…",
                items: [
                    "- [âœ¨] ä¸º uni-app ç«¯æ–°å¢äº†é¡µé¢ (2025/08/06 19:32:31)",
                    "- [âœ¨] ä¸º uni-app ç«¯æ–°å¢äº†æœç´¢åŠŸèƒ½ (2025/08/05 16:33:58)",
                    "- [ğŸš€] å¯¹ uni-app è¿›è¡Œäº†åŠŸèƒ½æ›´æ–° (2025/08/04 23:13:11)",
                    "- [ğŸ›] ä¿®å¤äº† Docker éƒ¨ç½²çš„ç›¸å…³é—®é¢˜ (2025/08/03 23:03:51)",
                    "- [âœ¨] æ–°å¢äº† docker-compose åŠŸèƒ½ï¼Œç®€åŒ–éƒ¨ç½²æµç¨‹ (2025/08/02 15:08:59)",
                ],
            },
        ],
    },
    {
        title: "3.8.0 (2025/07/31)",
        sections: [
            {
                title: "Git æäº¤è¯¦æƒ…",
                items: [
                    "- [ğŸš€] å°† Nuxt3 æ¡†æ¶å‡çº§è‡³ Nuxt4 (2025/07/31 17:05:30)",
                    "- [ğŸ›] ä¿®å¤äº†ä¸ªäººä¿¡æ¯é¡µé¢ `selfInfo` çš„ Bug (2025/07/31 16:37:12)",
                    "- [ğŸ›] ä¿®å¤äº†æ–‡ç« åˆ—è¡¨é¡µé¢ `Allpost` çš„ Bug (2025/07/30 22:34:48)",
                    "- [âœ¨] æ–°å¢äº†åŸºäº Nuxt3 çš„å‰ç«¯ä»£ç  (2025/07/30 18:50:14)",
                    "- [âœ¨] å¼•å…¥äº† Nuxt 3 æ¡†æ¶ (2025/07/29 12:06:08)",
                    "- [ğŸ›] ä¿®å¤äº†æ–°ç‰ˆæœ¬ç›¸å…³çš„ SQL è„šæœ¬é—®é¢˜ (2025/07/29 10:37:12)",
                    "- [âœ¨] æ–°å¢äº† IceCMS-front-nuxt3 å‰ç«¯é¡¹ç›® (2025/07/28 23:56:37)",
                    "- [âœ¨] æ–°å¢äº†åå°ç®¡ç†ç›¸å…³ä»£ç  (2025/07/27 18:03:21)",
                ],
            },
        ],
    },
    {
        title: "3.7.1 (2024/07/28)",
        sections: [
            {
                title: "ä¼˜åŒ–æ”¹è¿›",
                items: ["- ã€ä¼˜åŒ–ã€‘å°ç¨‹åºç«¯ç•Œé¢è¿›è¡Œäº†ä¼˜åŒ–", "- ã€ä¼˜åŒ–ã€‘åœˆå­ä¸‹æ‹‰åˆ·æ–°æ—¶å¢åŠ äº†è¿›åº¦æ¡æ˜¾ç¤º"],
            },
            {
                title: "Git æäº¤è¯¦æƒ…",
                items: [
                    "- [ğŸ”§] æ–°å¢äº†çŸ­ä¿¡æœåŠ¡é…ç½® (2024/07/24 21:44:19)",
                    "- [ğŸš€] æ›´æ–°äº† `WebUserController.java` æ§åˆ¶å™¨ (2024/07/20 22:55:36)",
                    "- [âœ¨] å®Œæˆäº†ç”¨æˆ·æ³¨å†ŒåŠŸèƒ½ (2024/07/20 22:10:43)",
                    "- [âœ¨] æ–°å¢äº†æ‰‹æœºå·ç™»å½•åŠŸèƒ½ (2024/07/11 20:39:17)",
                    "- [âœ¨] æ–°å¢äº†å¾®ä¿¡ç™»å½•åŠŸèƒ½ (2024/06/16 12:38:25)",
                ],
            },
        ],
    },
    {
        title: "3.4.1 (2024/03/11)",
        sections: [
            {
                title: "æ–°å¢åŠŸèƒ½",
                items: [
                    "- ã€æ–°å¢ã€‘é›†æˆæ”¯ä»˜é…ç½®",
                    "- ã€æ–°å¢ã€‘åå°æ–°å¢åŠŸèƒ½çš„æ ·å¼è®¾è®¡",
                    "- ã€æ–°å¢ã€‘ä¸Šä¼ å¤´åƒåŠŸèƒ½å·²é›†æˆåˆ°ä¸“ä¸šç‰ˆ",
                    "- ã€æ–°å¢ã€‘æ”¯æŒå›¾ç‰‡ä¸Šä¼ åŠŸèƒ½",
                    "- ã€æ–°å¢ã€‘å®ç°é‚®ç®±éªŒè¯åŠŸèƒ½",
                ],
            },
            {
                title: "å®‰å…¨æ”¹è¿›",
                items: ["- ã€å®‰å…¨ã€‘æ¥å£è¿›è¡Œäº† XSS æ³¨å…¥æ”»å‡»è¿‡æ»¤", "- ã€å®‰å…¨ã€‘å¢åŠ äº†éƒ¨åˆ†æ¥å£çš„å®‰å…¨æ€§éªŒè¯"],
            },
            {
                title: "Git æäº¤è¯¦æƒ…",
                items: ["- [âœ¨] æ–°å¢äº†åŠŸèƒ½ (2024/03/12 21:34:40)"],
            },
        ],
    },
    {
        title: "3.2.5 (2024/02/14)",
        sections: [
            {
                title: "æ–°å¢åŠŸèƒ½",
                items: ["- ã€æ–°å¢ã€‘æ–°ç”¨æˆ·å¢åŠ é»˜è®¤å¤´åƒ", "- ã€æ–°å¢ã€‘æ”¯æŒç”¨æˆ·ä¿®æ”¹å¯†ç "],
            },
            {
                title: "ä¿®å¤é—®é¢˜",
                items: ["- ã€ä¿®å¤ã€‘ä¿®å¤äº†æ·»åŠ æ–‡ä»¶æ—¶æ˜¯å¦å·²å‘å¸ƒçš„ Bug"],
            },
            {
                title: "Git æäº¤è¯¦æƒ…",
                items: [
                    "- [ğŸ“] åˆ é™¤äº†æ—§çš„ Nuxt2 ç›¸å…³ä»£ç  (2025/02/17 17:29:46)",
                    "- [ğŸ›] ä¿®å¤äº†åˆ—è¡¨é¡µé¢çš„ä¸€ä¸ª Bug (2025/02/17 17:29:00)",
                    "- [âœ¨] æ–°å¢äº†åˆ†ç±»é¡µé¢ (2025/02/13 23:37:45)",
                    "- [âœ¨] å¢åŠ äº†æ›´å¤šçš„ SVG å›¾æ ‡åŠŸèƒ½ (2025/02/13 02:15:40)",
                    "- [ğŸš€] æ›´æ–°äº†ç”¨æˆ·ä¸ªäººä¿¡æ¯é¡µé¢ (2025/02/12 21:54:31)",
                ],
            },
        ],
    },
    {
        title: "3.2.0 (2023-11-11)",
        sections: [
            {
                title: "æ–°å¢åŠŸèƒ½",
                items: ["- ã€æ–°å¢ã€‘æ·»åŠ äº†å¯¹ Next.js çš„æ”¯æŒ", "- ã€æ–°å¢ã€‘è¿›è¡Œäº† SEO ä¼˜åŒ–", "- ã€æ–°å¢ã€‘å¢åŠ äº†å›¾åºŠæ”¯æŒ"],
            },
            {
                title: "ä¼˜åŒ–æ”¹è¿›",
                items: ["- ã€ä¼˜åŒ–ã€‘è¿›è¡Œäº†ç•Œé¢ä¼˜åŒ–", "- ã€ä¼˜åŒ–ã€‘åå°ç®¡ç†é¡µé¢åˆ‡æ¢äº†æ¨¡ç‰ˆ"],
            },
            {
                title: "ä¿®å¤bug",
                items: ["- ã€ä¿®å¤ã€‘ä¿®å¤äº†åå°å›¾ç‰‡ä¸Šä¼ é”™è¯¯"],
            },
        ],
    },
    {
        title: "3.1.5 (2023-10-22)",
        sections: [
            {
                title: "æ–°å¢åŠŸèƒ½",
                items: [
                    "- ã€æ–°å¢ã€‘å¢åŠ äº†å›¾ç‰‡ä¸Šä¼ åŠŸèƒ½ï¼Œç”¨æˆ·ç°åœ¨å¯ä»¥åœ¨ç¤¾åŒºä¸­ä¸Šä¼ å›¾ç‰‡å¹¶åˆ†äº«ç²¾å½©ç¬é—´",
                    "- ã€æ–°å¢ã€‘æ”¯æŒæ›´å¤šå¹³å°ï¼Œæ–°å¢äº†å°ç¨‹åºç‰ˆæœ¬ï¼Œæ–¹ä¾¿ç”¨æˆ·éšæ—¶éšåœ°å‚ä¸è®¨è®º",
                ],
            },
            {
                title: "ä¼˜åŒ–æ”¹è¿›",
                items: [
                    "- ã€ä¼˜åŒ–ã€‘å¯¹ç§»åŠ¨ç«¯ç•Œé¢è¿›è¡Œäº†ä¼˜åŒ–ï¼Œæå‡äº†ç”¨æˆ·ä½“éªŒ",
                    "- ã€ä¼˜åŒ–ã€‘å¯¹åå°ç®¡ç†é¡µé¢è¿›è¡Œäº†ä¼˜åŒ–ï¼Œä½¿ç®¡ç†å‘˜æ›´åŠ é«˜æ•ˆåœ°ç®¡ç†ç¤¾åŒº",
                    "- ã€ä¼˜åŒ–ã€‘å¯¹è¯„è®ºç³»ç»Ÿè¿›è¡Œäº†ä¼˜åŒ–",
                ],
            },
            {
                title: "ä¿®å¤bug",
                items: ["- ã€ä¿®å¤ã€‘ä¿®å¤äº†ä¸€äº›å·²çŸ¥çš„bugï¼Œæé«˜äº†ç³»ç»Ÿçš„ç¨³å®šæ€§å’Œå®‰å…¨æ€§"],
            },
        ],
    },
    {
        title: "3.1.0 (2023-09-30)",
        sections: [
            {
                title: "æ–°å¢åŠŸèƒ½",
                items: [
                    "- ã€æ–°å¢ã€‘æ·»åŠ äº†ä¼šå‘˜åŠŸèƒ½",
                    "- ã€æ–°å¢ã€‘å¢åŠ äº†ç§¯åˆ†åŠŸèƒ½",
                    "- ã€æ–°å¢ã€‘å®ç°äº†ä¼šå‘˜åŠŸèƒ½è´­ä¹°",
                    "- ã€æ–°å¢ã€‘æ·»åŠ äº†ä¼šå‘˜æœ‰æ•ˆæœŸè®¾ç½®å­—æ®µï¼Œå¯ä»¥è®¾ç½®æœ‰æ•ˆå¤©æ•°",
                    "- ã€æ–°å¢ã€‘åœ¨å‰å°è¿›è¡Œäº†Gzipå‹ç¼©ä»¥æ˜¾è‘—æå‡åŠ è½½é€Ÿåº¦",
                ],
            },
        ],
    },
    {
        title: "3.0.5 (2023-07-31)",
        sections: [
            {
                title: "æ–°å¢åŠŸèƒ½",
                items: [
                    "- ã€æ–°å¢ã€‘å®ç°äº†æ–‡ç« ç‚¹èµåŠŸèƒ½",
                    "- ã€æ–°å¢ã€‘æ·»åŠ äº†ä¸´æ—¶ç™»é™†é‚®ç®±æ£€æµ‹",
                    "- ã€æ–°å¢ã€‘å®ç°äº†ç”¨æˆ·ä¸ªäººä¸­å¿ƒ",
                    "- ã€æ–°å¢ã€‘å•†å“é¡µé¢ä¸€å¯¹å¤šå›¾ç‰‡è½®æ’­",
                    "- ã€æ–°å¢ã€‘å¯¹å‰å°ç™»é™†è¿‡æœŸè¿›è¡Œäº†å¤„ç†",
                    "- ã€æ–°å¢ã€‘å®ç°äº†æœç´¢èµ„æºå’Œèµ„æºå‰å°åˆ†ç±»",
                ],
            },
            {
                title: "ä¼˜åŒ–æ”¹è¿›",
                items: ["- ã€ä¼˜åŒ–ã€‘å¯¹æ–‡ç« banneræ˜¾ç¤ºè¿›è¡Œäº†ä¼˜åŒ–", "- ã€ä¼˜åŒ–ã€‘è®¾ç½®äº†èµ„æºä¸‹è½½çš„ä»·æ ¼"],
            },
        ],
    },
    {
        title: "3.0.0 (2023-05-31)",
        sections: [
            {
                title: "æ–°å¢åŠŸèƒ½",
                items: [
                    "- ã€æ–°å¢ã€‘æ·»åŠ äº†ä¸Šä¼ å›¾ç‰‡è¿›åº¦æ¡",
                    "- ã€æ–°å¢ã€‘å®ç°äº†å›¾ç‰‡è½¬æ–‡å­—",
                    "- ã€æ–°å¢ã€‘å‰å°ç™»é™†",
                    "- ã€æ–°å¢ã€‘æ·»åŠ äº†å•†åŸå’Œæ”¯ä»˜åŠŸèƒ½",
                    "- ã€æ–°å¢ã€‘å®ç°äº†è¯„è®ºå’Œæµè§ˆé‡",
                    "- ã€æ–°å¢ã€‘å®ç°äº†æ˜Ÿçƒåå°",
                    "- ã€æ–°å¢ã€‘æ·»åŠ äº†ä¼šå‘˜åˆ†çº§å’Œä¼šå‘˜æ ‡ç­¾",
                    "- ã€æ–°å¢ã€‘å®ç°äº†åœˆå­åˆ›å»ºå’Œåå°ç”¨æˆ·ä¿¡æ¯é¡µ",
                    "- ã€æ–°å¢ã€‘æ·»åŠ äº†èµ„æºç‚¹èµå’Œèµ„æºè¯„è®ºåŠŸèƒ½",
                ],
            },
            {
                title: "ä¼˜åŒ–æ”¹è¿›",
                items: [
                    "- ã€ä¼˜åŒ–ã€‘å¯¹å›¾ç‰‡è¿›è¡Œäº†æ‡’åŠ è½½",
                    "- ã€ä¼˜åŒ–ã€‘å¯¹è¯„è®ºçš„æ˜¾ç¤ºè¿›è¡Œäº†ä¼˜åŒ–",
                    "- ã€ä¼˜åŒ–ã€‘å‰å°å³ä¸Šè§’ç™»é™†åæ˜¾ç¤ºç”¨æˆ·å¤´åƒ",
                    "- ã€ä¼˜åŒ–ã€‘å®ç°äº†ç”¨æˆ·å‰å°é€€å‡ºç™»å½•",
                    "- ã€ä¼˜åŒ–ã€‘å¯¹æ˜Ÿçƒå‰ç«¯è¿›è¡Œäº†ä¼˜åŒ–",
                    "- ã€ä¼˜åŒ–ã€‘æ·»åŠ äº†åˆ†ç±»åŠŸèƒ½å’Œæœç´¢",
                    "- ã€ä¼˜åŒ–ã€‘å¯¹ç”¨æˆ·jwtæºå¸¦æ•°æ®è¿›è¡Œäº†è®¾ç½®",
                    "- ã€ä¼˜åŒ–ã€‘å¯¹uniappè¿›è¡Œäº†é€‚é…æ‰‹æœºç«¯",
                    "- ã€ä¼˜åŒ–ã€‘å¯¹åˆ é™¤æ–‡ç« ä¹Ÿè¦åˆ é™¤è¯„è®ºè¿›è¡Œäº†ä¼˜åŒ–",
                    "- ã€ä¼˜åŒ–ã€‘è®¾ç½®äº†VUEXå­˜å‚¨å’Œèµ„æºä¸‹è½½çš„é“¾æ¥",
                    "- ã€ä¼˜åŒ–ã€‘å¯¹èµ„æºä¸‹è½½é¡µé¢è¿›è¡Œäº†ä¼˜åŒ–",
                ],
            },
        ],
    },
];

export const ChangelogItem = ({ item }: { item: string }) => {
    const match = item.match(/(- (?:[^\s]+))\s(.*)/);
    if (!match) {
        return <li>{item}</li>;
    }

    const [, tag, rest] = match;

    const tagColor =
        tag.includes("ğŸ›") || tag.includes("ä¿®å¤")
            ? "text-red-500 dark:text-red-400"
            : tag.includes("âœ¨") || tag.includes("æ–°å¢")
            ? "text-green-500 dark:text-green-400"
            : tag.includes("ğŸš€") || tag.includes("ä¼˜åŒ–")
            ? "text-purple-500 dark:text-purple-400"
            : "text-blue-500 dark:text-blue-400";

    return (
        <li className="mb-1">
            <span className={clsx("font-mono font-semibold", tagColor)}>{tag}</span>
            <span className="ml-2">{rest}</span>
        </li>
    );
};

export const EnterpriseChangelog = ({ className }: { className?: string }) => {
    return (
        <div className={clsx("flex flex-col", "not-prose", className)}>
            {/* Changelog Section */}
            <div>
                <div
                    className={clsx(
                        "text-2xl landing-sm:text-[32px] landing-sm:leading-[40px]",
                    )}
                >
                    <h2
                        className={clsx(
                            "font-semibold",
                            "dark:text-gray-400 text-gray-600",
                        )}
                    >
                        ğŸŒˆ å†°æ¿€å‡Œå†…å®¹ç®¡ç†ç³»ç»Ÿ ğŸ¦ æ›´æ–°æ—¥å¿—
                    </h2>
                </div>
                <div
                    className={clsx(
                        "flex",
                        "flex-col",
                        "mt-6 landing-sm:mt-12 landing-lg:mt-20",
                        "not-prose",
                        "dark:text-gray-300 text-gray-700",
                        "space-y-8",
                    )}
                >
                    {changelogData.map((release, idx) => (
                        <div key={idx}>
                            <h3 className="text-xl landing-sm:text-2xl font-bold mb-4 pb-2 border-b dark:border-gray-700 border-gray-300">
                                {release.title}
                            </h3>
                            <div className="space-y-4">
                                {release.sections.map((section, sIdx) => (
                                    <div key={sIdx}>
                                        {section.title && (
                                            <h4 className="text-lg font-semibold mb-2 text-gray-800 dark:text-gray-200">
                                                {section.title}
                                            </h4>
                                        )}
                                        <ul className="list-none pl-4 space-y-1">
                                            {section.items.map((item, iIdx) => (
                                                <ChangelogItem key={iIdx} item={item} />
                                            ))}
                                        </ul>
                                    </div>
                                ))}
                            </div>
                        </div>
                    ))}
                </div>
            </div>
        </div>
    );
};